
// Ex : under
// Ex : underaged (with vowel)
phoneme 3    //  Schwa, used for rhotic schwa in American
  vwl   starttype #@  endtype #@
  ipa ɚ
  unstressed
  length 210
  IfNextVowelAppend(r-)
  FMT(vwl_en_us/3_us)
endphoneme

// Defined for use by next rule (vanilla ice)
phoneme r2-
  vwl rhotic
  ipa ɹ-
endphoneme

// Schwa + Vanilla ice 
phoneme @    //  Schwa
  vwl   starttype #@  endtype #@
  unstressed
  length 130
  IfNextVowelAppend(r2-) // Vanilla ice (see upper)
  IF nextPh(isRhotic) THEN
    ChangePhoneme(3)
  ENDIF
  IF thisPh(isWordEnd) THEN
    FMT(vowel/@_6)
  ENDIF
  FMT(vowel/@_4)  
endphoneme


// Ex: dark
phoneme A@      // Used for [A:] when followed by 'r', becomes [A:]+[r] in American
  vwl  starttype #a  endtype #a
  ipa ɑː|ɹ
  IF nextPh(r-) THEN
    ipa ɑː
  ENDIF
  length 260
  IfNextVowelAppend(r-)
  FMT(vwl_en_us/aar)
endphoneme

// Ex: lord
phoneme O@
  vwl  starttype #o  endtype #@
  length 250
  ipa ɔː|ɹ
  IF nextPhW(r) THEN
    ipa ɔː
  ENDIF
  IfNextVowelAppend(r)
  FMT(vwl_en_us/oor)
endphoneme

// Ex: more
phoneme o@
  vwl  starttype #o  endtype #@
  length 250
  ipa oː|ɹ
  IF nextPhW(r) THEN
    ipa oː
  ENDIF
  IfNextVowelAppend(r)
  FMT(vwl_en_us/or)
endphoneme

// Ex: where
phoneme e@
  vwl  starttype #e  endtype #@
  length 260
  ipa ɛ|ɹ
  IF nextPhW(r) THEN
    ipa ɛ
  ENDIF
  IfNextVowelAppend(r)
  FMT(vwl_en_us/er)
endphoneme

// Ex: here
phoneme i@3
  vwl  starttype #i  endtype #@
  length 280
  ipa ɪ|ɹ
  IF nextPhW(r) THEN
    ipa ɪ
  ENDIF
  IfNextVowelAppend(r)
  FMT(vwl_en_us/ir)
endphoneme

// Ex : moor
phoneme U@
  vwl  starttype #@  endtype #@
  length 250
  ipa ʊ|ɹ
  IF nextPhW(r-) THEN
    ipa ʊ
  ENDIF
  IfNextVowelAppend(r-)
  FMT(vwl_en_us/ur)
endphoneme

// Ex : layer
phoneme aI3
  vwl  starttype #a  endtype #@
  length 310
  ipa aɪɚ
  IfNextVowelAppend(r-)
  FMT(vwl_en_us/ai3)
endphoneme

// Ex : the (used only for the)
// Ex : the age (with vowel)
phoneme @2   //  Schwa, changes to I before a vowel
  vwl  starttype #@  endtype #@
  unstressed
  length 120
  IF nextPh(isVowel) THEN
    ChangePhoneme(I2)
  ENDIF
  FMT(vowel/@_low2)
endphoneme

// Ex : repeated (schwi)
phoneme I#
  vwl  starttype #i  endtype #i
  unstressed
  length 160
  ipa ᵻ
//  FMT(vowel/@_fnt)
  FMT(vowel/ii#)
endphoneme


// forgotten rule : to verify 
// Ex : bias / pariah
phoneme aI@
  vwl  starttype #a  endtype #@
  length 300
  ipa aɪə
  IfNextVowelAppend(r-)
  FMT(vwl_en_us/ai@)
endphoneme

// forgotten rule : butterfaker
phoneme 3:
  vwl  starttype #@  endtype #@
  length 210
  IfNextVowelAppend(r-)
  ChangeIfDiminished(3)
  FMT(vwl_en_us/3_us2)
endphoneme

// forgotten rule : to verify
phoneme aU@
  vwl  starttype #a   endtype #@
  length 300
  ipa aɪʊɹ
  IF nextPhW(r) THEN
    ipa aɪʊ
  ENDIF
  IfNextVowelAppend(r)
  FMT(vwl_en_us/aU@)
endphoneme



// ???
phoneme oU
  vwl  starttype #@  endtype #u
  length 230
  FMT(vdiph/8u)
endphoneme



